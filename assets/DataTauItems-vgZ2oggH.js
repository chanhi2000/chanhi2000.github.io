import D from"./DevLoadingvSpinner-B35FYGkc.js";import{S as p}from"./Setup-51IcJTfj.js";import{l as V}from"./load-parse-Cq0q2RSo.js";import{_ as A}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as T,c,o,d as e,g as u,at as H,f as R,F as m,a as B,t as g}from"./app-6nZ4Bu4J.js";import"./index-DxMd_ypT.js";import"./commonjsHelpers-Cpj98o6Y.js";const U=p.axios,M="https://datatau.net",z=p.URL_CORS_BYPASS,F=`${z}https://datatau.net`;function I(){return U.get(F).then(s=>V(s.data)).then(s=>{const t=s,n=t("table.itemlist tbody > tr"),d=[];for(let a=0;a<n.length;a++){let r=t(n[a]).find("td.title a.storylink")[0],h=t(r).text(),i=t(r).attr("href"),l=t(n[a]).find("td.subtext a.hnuser")[0],v=t(l).text(),_=t(l).attr("href"),k=t(n[a]).find("td.subtext a.age")[0],w=t(k).text(),x=t(n[a]).find("td.subtext span.score")[0],S=t(x).text().replace(`
        `,""),b=t(n[a]).find("td.title span.sitestr")[0],L=t(b).text(),y=t(n[a]).find("td.subtext a")[2],C=t(y).attr("href"),f={age:w,link:i,score:S,siteString:L,threadLink:C,title:h,user:{name:v,link:`${M}${_}`}};console.log(JSON.stringify(f)),d.push(f)}return d}).catch(s=>(console.error("failed to fetch data",s),[])).catch(s=>(console.error("failed to fetch data",s),[]))}const N={fetchDataTau:I},$={name:"DataTauItems",components:{DevLoadingvSpinner:D},data(){return{isLoading:!1,items:null}},methods:{async onFetchData(){const s=await N.fetchDataTau();this.items=s.map(t=>({age:t.age,link:t.description,score:t.score,siteString:t.siteString,threadLink:t.threadLink,title:t.title,user:{link:t.user.link,name:t.user.name}}))},async doRefresh(){await this.onFetchData()}},mounted(){this.onFetchData()}},O={class:"card-title",style:{"background-color":"rgb(49, 54, 62)",color:"rgb(12, 176, 176, 0.7)"}},q={class:"pull-right external-icons"},P={class:"title-icon refresh-icon",style:{color:"rgba(12, 176, 176, 0.7)"}},Y={class:"card-body"},Z={key:1,class:"hn-list"},E={class:"title-row"},J={class:"title"},j=["href","title"],G={class:"site-string"},K=["href"];function Q(s,t,n,d,a,r){const h=T("DevLoadingvSpinner");return o(),c(m,null,[e("div",O,[u(` <svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="hacker-news-square" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="custom-icon svg-inline--fa fa-hacker-news-square fa-w-14">
        <path fill="currentColor" d="M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zM21.2 229.2H21c.1-.1.2-.3.3-.4 0 .1 0 .3-.1.4zm218 53.9V384h-31.4V281.3L128 128h37.3c52.5 98.3 49.2 101.2 59.3 125.6 12.3-27 5.8-24.4 60.6-125.6H320l-80.8 155.1z" class=""></path>
      </svg> `),t[3]||(t[3]=H('<img src="https://datatau.net/static/img/datatau.png" width="27" height="31" data-v-567d4010><div class="card-title-text" data-v-567d4010><div data-v-3564cb40="" class="round-borders wrapper" data-v-567d4010><div data-v-3564cb40="" class="select-title-wrapper" data-v-567d4010><span data-v-3564cb40="" class="select-title" data-v-567d4010> DataTau</span></div></div></div>',2)),e("div",q,[t[2]||(t[2]=e("div",{class:"title-icon external-icon",style:{color:"rgba(12, 176, 176, 0.7)"}},[e("a",{href:"https://datatau.net/new"},[e("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"external-link-alt",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",class:"svg-inline--fa fa-external-link-alt fa-w-16"},[e("path",{fill:"currentColor",d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"})])])],-1)),e("div",P,[e("a",{onClick:t[0]||(t[0]=(...i)=>r.doRefresh&&r.doRefresh(...i))},t[1]||(t[1]=[e("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"sync-alt",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",class:"fa-refresh-icon svg-inline--fa fa-sync-alt fa-w-16"},[e("path",{fill:"currentColor",d:"M370.72 133.28C339.458 104.008 298.888 87.962 255.848 88c-77.458.068-144.328 53.178-162.791 126.85-1.344 5.363-6.122 9.15-11.651 9.15H24.103c-7.498 0-13.194-6.807-11.807-14.176C33.933 94.924 134.813 8 256 8c66.448 0 126.791 26.136 171.315 68.685L463.03 40.97C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.749zM32 296h134.059c21.382 0 32.09 25.851 16.971 40.971l-41.75 41.75c31.262 29.273 71.835 45.319 114.876 45.28 77.418-.07 144.315-53.144 162.787-126.849 1.344-5.363 6.122-9.15 11.651-9.15h57.304c7.498 0 13.194 6.807 11.807 14.176C478.067 417.076 377.187 504 256 504c-66.448 0-126.791-26.136-171.315-68.685L48.97 471.03C33.851 486.149 8 475.441 8 454.059V320c0-13.255 10.745-24 24-24z",class:""})],-1)]))])])]),e("div",Y,[a.isLoading?(o(),R(h,{key:0})):(o(),c("div",Z,[(o(!0),c(m,null,B(a.items,(i,l)=>(o(),c("div",{class:"hn-item",key:l},[e("div",E,[e("div",J,[e("a",{href:i.link,title:i.title},g(i.title),9,j)]),e("div",G,[e("a",{href:i.link}," ("+g(i.siteString)+") ",9,K)])]),u(` <div class="meta-data">
            {{ item.score }} by <a v-bind:href="item.user.link" class="user-link"> {{ item.user.name }}</a> | {{ item.age }}  | <a v-bind:href="item.threadLink" class="thread-link"> item.commentCount</a>
          </div> `)]))),128))]))])],64)}const nt=A($,[["render",Q],["__scopeId","data-v-567d4010"]]);export{nt as default};
