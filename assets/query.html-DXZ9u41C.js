import{_ as o}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c,d as a,at as d,b as n,t as u,w as l,r as i,o as m,e as t}from"./app-DM0WOK1z.js";const h={},k={id:"frontmatter-title-관련",tabindex:"-1"},v={class:"header-anchor",href:"#frontmatter-title-관련"},b={class:"table-of-contents"};function g(r,s){const e=i("router-link"),p=i("TagLinks");return m(),c("div",null,[a("h1",k,[a("a",v,[a("span",null,u(r.$frontmatter.title)+" 관련",1)])]),a("nav",b,[a("ul",null,[a("li",null,[n(e,{to:"#a-유용한-쿼리"},{default:l(()=>s[0]||(s[0]=[t("A. 유용한 쿼리")])),_:1}),a("ul",null,[a("li",null,[n(e,{to:"#a1-grant-처리"},{default:l(()=>s[1]||(s[1]=[t("A1. GRANT 처리")])),_:1})]),a("li",null,[n(e,{to:"#a2-ddl-생성방법-조회"},{default:l(()=>s[2]||(s[2]=[t("A2. DDL 생성방법 조회")])),_:1})]),a("li",null,[n(e,{to:"#a3-dml"},{default:l(()=>s[3]||(s[3]=[t("A3. DML")])),_:1})]),a("li",null,[n(e,{to:"#a4-기타"},{default:l(()=>s[4]||(s[4]=[t("A4. 기타")])),_:1})])])]),a("li",null,[n(e,{to:"#b-cli"},{default:l(()=>s[5]||(s[5]=[t("B. CLI")])),_:1}),a("ul",null,[a("li",null,[n(e,{to:"#b1-db-접근"},{default:l(()=>s[6]||(s[6]=[t("B1. DB 접근")])),_:1})])])]),a("li",null,[n(e,{to:"#references"},{default:l(()=>s[7]||(s[7]=[t("References")])),_:1})])])]),s[8]||(s[8]=d(`<hr><h2 id="a-유용한-쿼리" tabindex="-1"><a class="header-anchor" href="#a-유용한-쿼리"><span>A. 유용한 쿼리</span></a></h2><h3 id="a1-grant-처리" tabindex="-1"><a class="header-anchor" href="#a1-grant-처리"><span>A1. GRANT 처리</span></a></h3><h4 id="a1-i-조회" tabindex="-1"><a class="header-anchor" href="#a1-i-조회"><span>A1-i. 조회</span></a></h4><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql"><pre><code class="language-sql"><span class="line"><span class="token keyword">SHOW</span> <span class="token keyword">GRANT</span> <span class="token keyword">FOR</span> :사용자<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="a1-ii-사용자에게-dml권한-부여" tabindex="-1"><a class="header-anchor" href="#a1-ii-사용자에게-dml권한-부여"><span>A1-ii. (사용자에게) DML권한 부여</span></a></h4><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql"><pre><code class="language-sql"><span class="line"><span class="token keyword">GRANT</span> <span class="token keyword">SELECT</span><span class="token punctuation">,</span><span class="token keyword">DELETE</span><span class="token punctuation">,</span><span class="token keyword">UPDATE</span><span class="token punctuation">,</span><span class="token keyword">INSERT</span> <span class="token keyword">ON</span> :테이블명 <span class="token keyword">TO</span> :사용자<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="a1-iii-사용자에게-ddl권한-부여" tabindex="-1"><a class="header-anchor" href="#a1-iii-사용자에게-ddl권한-부여"><span>A1-iii. (사용자에게) DDL권한 부여</span></a></h4><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql"><pre><code class="language-sql"><span class="line"><span class="token keyword">GRANT</span> <span class="token keyword">ALTER</span><span class="token punctuation">,</span><span class="token keyword">INDEX</span><span class="token punctuation">,</span><span class="token keyword">EXECUTE</span> <span class="token keyword">ON</span> :테이블명 <span class="token keyword">TO</span> :사용자<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="a1-iv-사용자에게-전-권한-부어" tabindex="-1"><a class="header-anchor" href="#a1-iv-사용자에게-전-권한-부어"><span>A1-iv. (사용자에게) 전 권한 부어</span></a></h4><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql"><pre><code class="language-sql"><span class="line"><span class="token keyword">GRANT</span> <span class="token keyword">ALL</span> <span class="token keyword">PRIVILEGES</span> <span class="token keyword">ON</span> :테이블명 <span class="token keyword">TO</span> :사용자<span class="token punctuation">;</span> </span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="a2-ddl-생성방법-조회" tabindex="-1"><a class="header-anchor" href="#a2-ddl-생성방법-조회"><span>A2. DDL 생성방법 조회</span></a></h3><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql"><pre><code class="language-sql"><span class="line"><span class="token keyword">SHOW</span> <span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> :테이블명<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="a3-dml" tabindex="-1"><a class="header-anchor" href="#a3-dml"><span>A3. DML</span></a></h3><h4 id="a3-i-upsert문" tabindex="-1"><a class="header-anchor" href="#a3-i-upsert문"><span>A3-i. UPSERT문</span></a></h4><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql"><pre><code class="language-sql"><span class="line"><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> :테이블명 <span class="token punctuation">(</span></span>
<span class="line">    :컬럼명<span class="token number">1</span><span class="token punctuation">,</span> :컬럼명<span class="token number">2</span> <span class="token comment">/* ...[이하생략] */</span></span>
<span class="line"><span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span></span>
<span class="line">    :컬럼<span class="token number">1</span>의값<span class="token punctuation">,</span> :컬럼<span class="token number">2</span>의값 <span class="token comment">/* ...[이하생략] */</span></span>
<span class="line"><span class="token punctuation">)</span> <span class="token keyword">ON</span> <span class="token keyword">DUPLICATE</span> <span class="token keyword">KEY</span> <span class="token keyword">UPDATE</span> </span>
<span class="line">    :컬럼명<span class="token number">1</span> <span class="token operator">=</span> :컬럼<span class="token number">1</span>의값</span>
<span class="line">    <span class="token punctuation">,</span> :컬럼명<span class="token number">2</span> <span class="token operator">=</span> :컬럼<span class="token number">2</span>의값</span>
<span class="line">    <span class="token comment">/* ...[이하생략] */</span></span>
<span class="line"><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="a4-기타" tabindex="-1"><a class="header-anchor" href="#a4-기타"><span>A4. 기타</span></a></h3><h4 id="a4-i-현재날짜" tabindex="-1"><a class="header-anchor" href="#a4-i-현재날짜"><span>A4-i. 현재날짜</span></a></h4><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql"><pre><code class="language-sql"><span class="line"><span class="token keyword">SELECT</span> <span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql"><pre><code class="language-sql"><span class="line"><span class="token keyword">SELECT</span> DATE_FORMAT<span class="token punctuation">(</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&#39;%y-%m-%d&#39;</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><hr><h2 id="b-cli" tabindex="-1"><a class="header-anchor" href="#b-cli"><span>B. CLI</span></a></h2><h3 id="b1-db-접근" tabindex="-1"><a class="header-anchor" href="#b1-db-접근"><span>B1. DB 접근</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">mysql <span class="token parameter variable">-h</span> <span class="token operator">&lt;</span>HOST<span class="token operator">&gt;</span> <span class="token parameter variable">-P</span> <span class="token operator">&lt;</span>PORT_NUMBER<span class="token operator">&gt;</span> <span class="token parameter variable">-u</span> <span class="token operator">&lt;</span>USERNAME<span class="token operator">&gt;</span> <span class="token parameter variable">-p</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="b1-a-💀error-2002-hy000" tabindex="-1"><a class="header-anchor" href="#b1-a-💀error-2002-hy000"><span>B1-a. 💀ERROR 2002 (HY000)</span></a></h4><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">ERROR 2002 (HY000): Can&#39;t connect to local MySQL server through socket &#39;/tmp/mysql.sock&#39; (2)</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h5 id="원인" tabindex="-1"><a class="header-anchor" href="#원인"><span>원인</span></a></h5><p><code>mysql.sock</code> 파일이 경로 및 심볼릭링크 정확하지 않아서 발생하는 오류 보통 <code>mysql-server</code> 가 기동되지 않아 생기는 문제</p><h5 id="해결법" tabindex="-1"><a class="header-anchor" href="#해결법"><span>해결법</span></a></h5><ol><li><code>mysql.sock</code> 위치 찾기</li></ol><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">mysql_config <span class="token parameter variable">--socket</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>2a. <code>my.cnf</code> 설정 된 socket경로를 심볼릭링크 설정</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">sudo</span> <span class="token function">ln</span> <span class="token parameter variable">-s</span> /var/lib/mysql/mysql.sock /tmp/mysql.sock</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>2b. <code>/var/lib/mysql</code> 위치에 <code>mysql.sock</code> 파일이 없을 경우</p><p>2b-i. <code>/etc/my.cnf</code> 파일이 설정한 값 중 <code>socket</code> 경로가 어디 있는지 보면 알 수 있다.</p><div class="language-conf line-numbers-mode" data-highlighter="prismjs" data-ext="conf"><pre><code class="language-conf"><span class="line">[mysqld]</span>
<span class="line">datadir=/var/lib/mysql</span>
<span class="line">socket=/var/lib/mysql/mysql.sock</span>
<span class="line">user=mysql</span>
<span class="line">... </span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2b-ii. <code>mysqld</code> service 동작 확인</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">service</span> mysqld status</span>
<span class="line"><span class="token function">service</span> mysqld start <span class="token comment"># 결과가 \`mysql is stopped\` 일 경우, </span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="references" tabindex="-1"><a class="header-anchor" href="#references"><span>References</span></a></h2><ul><li><a href="https://stricky.tistory.com/333" target="_blank" rel="noopener noreferrer">MySQL SQL 독학 강의 전체 A to Z</a></li></ul>`,41)),n(p)])}const q=o(h,[["render",g]]),x=JSON.parse('{"path":"/data-science/mysql/query.html","title":"Query","lang":"ko-KR","frontmatter":{"lang":"ko-KR","title":"Query","description":"MySQL > Query","icon":"fas fa-magnifying-glass","category":["SQL","MySQL","Query"],"tag":["sql","mysql","mysql5","ddl","dml","sql-privilege"],"head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Query\\",\\"image\\":[\\"\\"],\\"dateModified\\":null,\\"author\\":[]}"],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/data-science/mysql/query.html"}],["meta",{"property":"og:site_name","content":"chanhi2000"}],["meta",{"property":"og:title","content":"Query"}],["meta",{"property":"og:description","content":"MySQL > Query"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"ko-KR"}],["meta",{"property":"article:tag","content":"sql-privilege"}],["meta",{"property":"article:tag","content":"dml"}],["meta",{"property":"article:tag","content":"ddl"}],["meta",{"property":"article:tag","content":"mysql5"}],["meta",{"property":"article:tag","content":"mysql"}],["meta",{"property":"article:tag","content":"sql"}],[{"meta":null},{"property":"og:title","content":"MySQL > Query"},{"property":"og:description","content":"Query"},{"property":"og:url","content":"https://chanhi2000.github.io/data-science/mysql/query.html"}]]},"git":{},"readingTime":{"minutes":0.75,"words":224},"filePathRelative":"data-science/mysql/query.md"}');export{q as comp,x as data};
