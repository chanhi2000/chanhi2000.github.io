import{_ as v}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as b,d as t,b as i,at as p,t as k,w as s,au as m,av as h,r as d,o as f,e}from"./app-DM0WOK1z.js";const y={},x={id:"frontmatter-title-관련",tabindex:"-1"},A={class:"header-anchor",href:"#frontmatter-title-관련"},P={class:"table-of-contents"};function I(u,n){const o=d("router-link"),c=d("VPCard"),r=d("Tabs"),g=d("TagLinks");return f(),b("div",null,[t("h1",x,[t("a",A,[t("span",null,k(u.$frontmatter.title)+" 관련",1)])]),t("nav",P,[t("ul",null,[t("li",null,[i(o,{to:"#v2-push-register"},{default:s(()=>n[0]||(n[0]=[e("/v2/push/register")])),_:1}),t("ul",null,[t("li",null,[i(o,{to:"#요청"},{default:s(()=>n[1]||(n[1]=[e("요청")])),_:1})]),t("li",null,[i(o,{to:"#응답"},{default:s(()=>n[2]||(n[2]=[e("응답")])),_:1})])])]),t("li",null,[i(o,{to:"#v2-push-tokens"},{default:s(()=>n[3]||(n[3]=[e("/v2/push/tokens")])),_:1}),t("ul",null,[t("li",null,[i(o,{to:"#요청-1"},{default:s(()=>n[4]||(n[4]=[e("요청")])),_:1})]),t("li",null,[i(o,{to:"#응답-1"},{default:s(()=>n[5]||(n[5]=[e("응답")])),_:1})])])]),t("li",null,[i(o,{to:"#v2-push-deregister"},{default:s(()=>n[6]||(n[6]=[e("/v2/push/deregister")])),_:1}),t("ul",null,[t("li",null,[i(o,{to:"#요청-2"},{default:s(()=>n[7]||(n[7]=[e("요청")])),_:1})]),t("li",null,[i(o,{to:"#응답-2"},{default:s(()=>n[8]||(n[8]=[e("응답")])),_:1})])])]),t("li",null,[i(o,{to:"#v2-push-send"},{default:s(()=>n[9]||(n[9]=[e("/v2/push/send")])),_:1}),t("ul",null,[t("li",null,[i(o,{to:"#apns-전송-가능-용량"},{default:s(()=>n[10]||(n[10]=[e("APNs 전송 가능 용량")])),_:1})]),t("li",null,[i(o,{to:"#apns-앱-번들의-메시지-세트-활용-방법"},{default:s(()=>n[11]||(n[11]=[e("APNs 앱 번들의 메시지 세트 활용 방법")])),_:1})]),t("li",null,[i(o,{to:"#요청-3"},{default:s(()=>n[12]||(n[12]=[e("요청")])),_:1})]),t("li",null,[i(o,{to:"#응답-3"},{default:s(()=>n[13]||(n[13]=[e("응답")])),_:1})])])])])]),n[48]||(n[48]=t("hr",null,null,-1)),i(c,m(h({title:"kakao developers - 로컬",desc:"이 문서는 로컬(Local) API 구현 방법을 소개합니다.",link:"https://developers.kakao.com/docs/latest/ko/push/rest-api",logo:"https://developers.kakao.com/docs/static/image/ko/pc/local.png",background:"rgba(3, 22, 108, 0.2)"})),null,16),n[49]||(n[49]=p('<hr><div class="hint-container warning"><p class="hint-container-title">주의: 푸시 알림 보내기</p><p>푸시 토큰 등록, 보기, 삭제는 Android와 iOS SDK도 지원하지만, 푸시 알림을 보내는 기능은 REST API로만 지원합니다. 또한 Apple Push Notification service(APNs), Firebase Cloud Messaging(FCM) 인증 정보를 내 애플리케이션(이하 앱) 정보에 미리 등록해두어야 합니다. 인증 정보 발급 및 등록 방법은 <a href="https://developers.kakao.com/docs/latest/ko/push/prerequisite#authentication" target="_blank" rel="noopener noreferrer">설정하기</a>를 참고합니다.</p></div><div class="hint-container warning"><p class="hint-container-title">주의: API 버전 변경</p><p>푸시 알림 API의 버전이 v1에서 v2로 업그레이드됩니다.</p><ul><li>적용 일자: 2020년 12월 2일</li><li>변경 사항: <a href="https://developers.google.com/cloud-messaging" target="_blank" rel="noopener noreferrer">Google Cloud Messaging(GCM)</a>가 Firebase Cloud Messaging(FCM)으로 대체됨에 따라 push_type 값 변경</li></ul></div><hr><h2 id="v2-push-register" tabindex="-1"><a class="header-anchor" href="#v2-push-register"><span><code>/v2/push/register</code></span></a></h2><blockquote><p>푸시 토큰 등록하기</p></blockquote><div class="hint-container info"><p class="hint-container-title">기본정보</p><table><thead><tr><th style="text-align:left;">메서드</th><th style="text-align:left;">URL</th><th style="text-align:left;">인증 방식</th></tr></thead><tbody><tr><td style="text-align:left;"><code>POST</code></td><td style="text-align:left;">https://kapi.kakao.com/v2/push/register</td><td style="text-align:left;">서비스 앱 어드민 키</td></tr></tbody></table><p>푸시 알림을 받을 사용자의 푸시 토큰(디바이스 토큰)을 카카오 푸시 서비스에 등록하는 API입니다.</p><p>앱 어드민 키(Admin Key)와 APNs, FCM으로부터 발급 받은 푸시 토큰이 필요합니다. 어드민 키를 사용하는 API이므로 보안 위험을 피하기 위해 반드시 서버에서 호출해야 합니다.</p><blockquote><p>허용 IP 주소 설정</p><p>푸시 알림 발송에 보다 안전을 기하려면 카카오 API를 호출하는 IP를 제한할 수 있습니다. [내 애플리케이션] &gt; [허용 IP 주소]에서 사용할 IP를 등록합니다. 자세한 정보는 <a href="https://developers.kakao.com/docs/latest/ko/getting-started/rest-api#allowed-ip-registration" target="_blank" rel="noopener noreferrer">보안: 허용 IP 주소</a>를 참고합니다.</p></blockquote><p><code>uuid</code>는 서비스에서 각 사용자에게 발급한 고유 숫자 값을 사용합니다. <code>device_id</code>는 푸시 알림을 받을 각 기기를 등록하기 위한 값입니다. 같은 사용자가 여러 대의 기기를 사용하는 경우, 푸시 토큰을 기기별로 등록해 푸시 알림을 보낼 수 있도록 하는 용도입니다.</p><p>푸시 토큰 등록 성공시, HTTP 상태 코드 200 응답과 함께 푸시 토큰이 며칠 뒤 만료되는지를 나타내는 숫자 값을 받습니다. 이 기간은 자동으로 갱신되지 않으므로, 기간 이내에 해당 사용자 및 기기에 대한 푸시 토큰을 재등록해야 합니다</p></div><h3 id="요청" tabindex="-1"><a class="header-anchor" href="#요청"><span>요청</span></a></h3>',8)),i(r,{data:[{id:"curl"},{id:"설명"}],active:0},{title0:s(({value:l,isActive:a})=>n[14]||(n[14]=[e("curl")])),title1:s(({value:l,isActive:a})=>n[15]||(n[15]=[e("설명")])),tab0:s(({value:l,isActive:a})=>n[16]||(n[16]=[t("div",{class:"language-bash line-numbers-mode","data-highlighter":"prismjs","data-ext":"sh"},[t("pre",null,[t("code",{class:"language-bash"},[t("span",{class:"line"},[t("span",{class:"token function"},"curl"),e(),t("span",{class:"token parameter variable"},"-v"),e(),t("span",{class:"token parameter variable"},"-X"),e(" POST "),t("span",{class:"token string"},'"https://kapi.kakao.com/v2/push/register"'),e(),t("span",{class:"token punctuation"},"\\")]),e(`
`),t("span",{class:"line"},[e("  "),t("span",{class:"token parameter variable"},"-H"),e(),t("span",{class:"token string"},'"Content-Type: application/x-www-form-urlencoded"'),e(),t("span",{class:"token punctuation"},"\\")]),e(`
`),t("span",{class:"line"},[e("  "),t("span",{class:"token parameter variable"},"-H"),e(),t("span",{class:"token string"},[e('"Authorization: KakaoAK '),t("span",{class:"token variable"},"${SERVICE_APP_ADMIN_KEY}"),e('"')]),e(),t("span",{class:"token punctuation"},"\\")]),e(`
`),t("span",{class:"line"},[e("  "),t("span",{class:"token parameter variable"},"-d"),e(),t("span",{class:"token string"},'"uuid=1234"'),e(),t("span",{class:"token punctuation"},"\\")]),e(`
`),t("span",{class:"line"},[e("  "),t("span",{class:"token parameter variable"},"-d"),e(),t("span",{class:"token string"},'"device_id=0f365b39-c33d-39be-bdfc-74aaf5534470"'),e(),t("span",{class:"token punctuation"},"\\")]),e(`
`),t("span",{class:"line"},[e("  "),t("span",{class:"token parameter variable"},"-d"),e(),t("span",{class:"token string"},'"push_type=fcm"'),e(),t("span",{class:"token punctuation"},"\\")]),e(`
`),t("span",{class:"line"},[e("  --data-urlencode "),t("span",{class:"token string"},'"push_token=APA91bEZ3fjwrKV2mxAFvZMC960zKBWBVffLErwZgFzsFnzzsxgi5lSQlq3zvzObZBe4OnbwkTZfMqV7_a6fF0AJNgUjt5Scpo2BTaHyLVlK54QmwIQBahUwJprKjj0YvF_rh8l7CTvl6TRxqlqO_NIwaoAcI0MssA"')]),e(`
`),t("span",{class:"line"})])]),t("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[t("div",{class:"line-number"}),t("div",{class:"line-number"}),t("div",{class:"line-number"}),t("div",{class:"line-number"}),t("div",{class:"line-number"}),t("div",{class:"line-number"}),t("div",{class:"line-number"})])],-1)])),tab1:s(({value:l,isActive:a})=>n[17]||(n[17]=[t("h3",{id:"헤더",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#헤더"},[t("span",null,"헤더")])],-1),t("table",null,[t("thead",null,[t("tr",null,[t("th",{style:{"text-align":"left"}},"이름"),t("th",{style:{"text-align":"left"}},"설명"),t("th",{style:{"text-align":"center"}},"필수")])]),t("tbody",null,[t("tr",null,[t("td",{style:{"text-align":"left"}},"Authorization"),t("td",{style:{"text-align":"left"}},[t("code",null,"Authorization: KakaoAK ${SERVICE_APP_ADMIN_KEY}"),t("br"),e("인증 방식, 서비스 앱 어드민 키로 인증 요청")]),t("td",{style:{"text-align":"center"}},"✅")])])],-1),t("h3",{id:"본문",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#본문"},[t("span",null,"본문")])],-1),t("table",null,[t("thead",null,[t("tr",null,[t("th",{style:{"text-align":"left"}},"이름"),t("th",{style:{"text-align":"left"}},"타입"),t("th",{style:{"text-align":"left"}},"설명"),t("th",{style:{"text-align":"center"}},"필수")])]),t("tbody",null,[t("tr",null,[t("td",{style:{"text-align":"left"}},[t("code",null,"uuid")]),t("td",{style:{"text-align":"left"}},"String"),t("td",{style:{"text-align":"left"}},"사용자 고유 ID, 1~((2^63)-1) 범위의 정수만 사용 가능"),t("td",{style:{"text-align":"center"}},"✅")]),t("tr",null,[t("td",{style:{"text-align":"left"}},[t("code",null,"device_id")]),t("td",{style:{"text-align":"left"}},"String"),t("td",{style:{"text-align":"left"}},[e("동일 사용자의 기기(Device)를 구분하는 ID"),t("br"),t("code",null,"uuid"),e(" 내에서 유일한 값이어야 함"),t("br"),e("APNs의 경우, 기기마다 푸시 토큰이 다르기 때문에 APNs로부터 받은 토큰을 그대로 사용해도 무방"),t("br"),e("FCM은 기기 고유 ID를 생성하는 알고리즘 필요")]),t("td",{style:{"text-align":"center"}},"✅")]),t("tr",null,[t("td",{style:{"text-align":"left"}},[t("code",null,"push_type")]),t("td",{style:{"text-align":"left"}},"String"),t("td",{style:{"text-align":"left"}},"푸시 서버 타입, apns 혹은 fcm"),t("td",{style:{"text-align":"center"}},"✅")]),t("tr",null,[t("td",{style:{"text-align":"left"}},[t("code",null,"push_token")]),t("td",{style:{"text-align":"left"}},"String"),t("td",{style:{"text-align":"left"}},"APNs(64자), FCM으로부터 발급받은 푸시 토큰"),t("td",{style:{"text-align":"center"}},"✅")])])],-1)])),_:1}),n[50]||(n[50]=t("h3",{id:"응답",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#응답"},[t("span",null,"응답")])],-1)),i(r,{data:[{id:"json"},{id:"설명"}],active:0},{title0:s(({value:l,isActive:a})=>n[18]||(n[18]=[e("json")])),title1:s(({value:l,isActive:a})=>n[19]||(n[19]=[e("설명")])),tab0:s(({value:l,isActive:a})=>n[20]||(n[20]=[t("div",{class:"language-json line-numbers-mode","data-highlighter":"prismjs","data-ext":"json"},[t("pre",null,[t("code",{class:"language-json"},[t("span",{class:"line"},[e("HTTP/"),t("span",{class:"token number"},"1.1"),e(),t("span",{class:"token number"},"200"),e(" OK")]),e(`
`),t("span",{class:"line"},[e("Content-Length"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token number"},"2")]),e(`
`),t("span",{class:"line"},[e("Content-type"),t("span",{class:"token operator"},":"),e(" application/json;charset=UTF"),t("span",{class:"token number"},"-8")]),e(`
`),t("span",{class:"line"}),e(`
`),t("span",{class:"line"},[t("span",{class:"token number"},"-1")]),e(`
`),t("span",{class:"line"})])]),t("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[t("div",{class:"line-number"}),t("div",{class:"line-number"}),t("div",{class:"line-number"}),t("div",{class:"line-number"}),t("div",{class:"line-number"})])],-1)])),tab1:s(({value:l,isActive:a})=>n[21]||(n[21]=[t("table",null,[t("thead",null,[t("tr",null,[t("th",{style:{"text-align":"left"}},"이름"),t("th",{style:{"text-align":"left"}},"타입"),t("th",{style:{"text-align":"left"}},"설명")])]),t("tbody",null,[t("tr",null,[t("td",{style:{"text-align":"left"}},"NONE"),t("td",{style:{"text-align":"left"}},"Integer"),t("td",{style:{"text-align":"left"}},[e("푸시 토큰 만료 예정 기간, "),t("code",null,"-1"),e("인 경우 무제한")])])])],-1)])),_:1}),n[51]||(n[51]=p('<hr><h2 id="v2-push-tokens" tabindex="-1"><a class="header-anchor" href="#v2-push-tokens"><span><code>/v2/push/tokens</code></span></a></h2><blockquote><p>푸시 토큰 보기</p></blockquote><table><thead><tr><th style="text-align:left;">메서드</th><th style="text-align:left;">URL</th><th style="text-align:left;">인증 방식</th></tr></thead><tbody><tr><td style="text-align:left;"><code>GET/POST</code></td><td style="text-align:left;">https://kapi.kakao.com/v2/push/tokens</td><td style="text-align:left;">서비스 앱 어드민 키</td></tr></tbody></table><p>카카오 푸시 서비스에 등록된 사용자의 푸시 토큰 정보를 조회하는 API입니다.</p><p>푸시 토큰 보기 요청 시, <code>uuid</code> 또는 <code>uuids</code> 중 하나는 반드시 포함해야 합니다. <code>uuid</code>는 특정 사용자 한 명의 푸시 토큰을, <code>uuids</code>는 최대 100명의 사용자 푸시 토큰을 조회할 때 각각 사용합니다. 메소드는 <code>GET</code> 또는 <code>POST</code>를 사용하며, 앱 어드민 키를 사용해 서버에서 요청해야 합니다.</p><p>요청 성공 시 응답은 <code>JSON Array</code>로 푸시 토큰 정보를 받습니다. 카카오 푸시 알림 기능은 멀티 디바이스를 지원하므로, 각 사용자 앞으로 여러 개의 푸시 토큰이 등록돼 있을 수 있습니다. 각 푸시 토큰 정보는 <code>uuid</code>, <code>device_id</code>, 푸시 토큰 종류와 값, 생성 및 업데이트 일시를 포함합니다.</p><h3 id="요청-1" tabindex="-1"><a class="header-anchor" href="#요청-1"><span>요청</span></a></h3>',8)),i(r,{data:[{id:"uuid로 요청"},{id:"curl uuids로 요청"},{id:"설명"}],active:0},{title0:s(({value:l,isActive:a})=>n[22]||(n[22]=[e("uuid로 요청")])),title1:s(({value:l,isActive:a})=>n[23]||(n[23]=[e("curl uuids로 요청")])),title2:s(({value:l,isActive:a})=>n[24]||(n[24]=[e("설명")])),tab0:s(({value:l,isActive:a})=>n[25]||(n[25]=[t("div",{class:"language-bash line-numbers-mode","data-highlighter":"prismjs","data-ext":"sh"},[t("pre",null,[t("code",{class:"language-bash"},[t("span",{class:"line"},[t("span",{class:"token function"},"curl"),e(),t("span",{class:"token parameter variable"},"-v"),e(),t("span",{class:"token parameter variable"},"-X"),e(" GET "),t("span",{class:"token string"},'"https://kapi.kakao.com/v2/push/tokens"'),e(),t("span",{class:"token punctuation"},"\\")]),e(`
`),t("span",{class:"line"},[e("  "),t("span",{class:"token parameter variable"},"-H"),e(),t("span",{class:"token string"},[e('"Authorization: KakaoAK '),t("span",{class:"token variable"},"${SERVICE_APP_ADMIN_KEY}"),e('"')]),e(),t("span",{class:"token punctuation"},"\\")]),e(`
`),t("span",{class:"line"},[e("  "),t("span",{class:"token parameter variable"},"-d"),e(),t("span",{class:"token string"},'"uuid=1234"')]),e(`
`),t("span",{class:"line"})])]),t("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[t("div",{class:"line-number"}),t("div",{class:"line-number"}),t("div",{class:"line-number"})])],-1)])),tab1:s(({value:l,isActive:a})=>n[26]||(n[26]=[t("div",{class:"language-bash line-numbers-mode","data-highlighter":"prismjs","data-ext":"sh"},[t("pre",null,[t("code",{class:"language-bash"},[t("span",{class:"line"},[t("span",{class:"token function"},"curl"),e(),t("span",{class:"token parameter variable"},"-v"),e(),t("span",{class:"token parameter variable"},"-X"),e(" POST "),t("span",{class:"token string"},'"https://kapi.kakao.com/v2/push/tokens"'),e(),t("span",{class:"token punctuation"},"\\")]),e(`
`),t("span",{class:"line"},[e("  "),t("span",{class:"token parameter variable"},"-H"),e(),t("span",{class:"token string"},'"Content-Type: application/x-www-form-urlencoded"'),e(),t("span",{class:"token punctuation"},"\\")]),e(`
`),t("span",{class:"line"},[e("  "),t("span",{class:"token parameter variable"},"-H"),e(),t("span",{class:"token string"},[e('"Authorization: KakaoAK '),t("span",{class:"token variable"},"${SERVICE_APP_ADMIN_KEY}"),e('"')]),e(),t("span",{class:"token punctuation"},"\\")]),e(`
`),t("span",{class:"line"},[e("  --data-urlencode "),t("span",{class:"token string"},`'uuids=["1234", "5678"]'`)]),e(`
`),t("span",{class:"line"})])]),t("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[t("div",{class:"line-number"}),t("div",{class:"line-number"}),t("div",{class:"line-number"}),t("div",{class:"line-number"})])],-1)])),tab2:s(({value:l,isActive:a})=>n[27]||(n[27]=[t("h3",{id:"헤더-1",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#헤더-1"},[t("span",null,"헤더")])],-1),t("table",null,[t("thead",null,[t("tr",null,[t("th",{style:{"text-align":"left"}},"이름"),t("th",{style:{"text-align":"left"}},"설명"),t("th",{style:{"text-align":"center"}},"필수")])]),t("tbody",null,[t("tr",null,[t("td",{style:{"text-align":"left"}},"Authorization"),t("td",{style:{"text-align":"left"}},[t("code",null,"Authorization: KakaoAK ${SERVICE_APP_ADMIN_KEY}"),t("br"),e("인증 방식, 서비스 앱 어드민 키로 인증 요청")]),t("td",{style:{"text-align":"center"}},"✅")])])],-1),t("h3",{id:"쿼리-파라미터",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#쿼리-파라미터"},[t("span",null,"쿼리 파라미터")])],-1),t("table",null,[t("thead",null,[t("tr",null,[t("th",{style:{"text-align":"left"}},"이름"),t("th",{style:{"text-align":"left"}},"타입"),t("th",{style:{"text-align":"left"}},"설명"),t("th",{style:{"text-align":"center"}},"필수")])]),t("tbody",null,[t("tr",null,[t("td",{style:{"text-align":"left"}},[t("code",null,"uuid")]),t("td",{style:{"text-align":"left"}},"String"),t("td",{style:{"text-align":"left"}},"사용자 고유 ID, 1~((2^63)-1) 범위의 정수만 사용 가능"),t("td",{style:{"text-align":"center"}},"✅")]),t("tr",null,[t("td",{style:{"text-align":"left"}},[t("code",null,"uuids")]),t("td",{style:{"text-align":"left"}},"String[]"),t("td",{style:{"text-align":"left"}},"사용자 고유 ID 목록, ID 100개 이하"),t("td",{style:{"text-align":"center"}},"✅")])])],-1),t("blockquote",null,[t("p",null,[e("한 사용자의 푸시 토큰 정보를 요청하려면 "),t("code",null,"uuid"),e("를 필수 파라미터로 전달, 여러 사용자의 푸시 토큰 정보를 요청하려면 "),t("code",null,"uuids"),e("를 필수 파라미터로 전달")])],-1)])),_:1}),n[52]||(n[52]=t("h3",{id:"응답-1",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#응답-1"},[t("span",null,"응답")])],-1)),i(r,{data:[{id:"json"},{id:"설명"}],active:0},{title0:s(({value:l,isActive:a})=>n[28]||(n[28]=[e("json")])),title1:s(({value:l,isActive:a})=>n[29]||(n[29]=[e("설명")])),tab0:s(({value:l,isActive:a})=>n[30]||(n[30]=[t("div",{class:"language-json line-numbers-mode","data-highlighter":"prismjs","data-ext":"json"},[t("pre",null,[t("code",{class:"language-json"},[t("span",{class:"line"},[e("HTTP/"),t("span",{class:"token number"},"1.1"),e(),t("span",{class:"token number"},"200"),e(" OK")]),e(`
`),t("span",{class:"line"},[e("Content-type"),t("span",{class:"token operator"},":"),e(" application/json;charset=UTF"),t("span",{class:"token number"},"-8")]),e(`
`),t("span",{class:"line"},[t("span",{class:"token punctuation"},"[")]),e(`
`),t("span",{class:"line"},[e("    "),t("span",{class:"token punctuation"},"{")]),e(`
`),t("span",{class:"line"},[e("    "),t("span",{class:"token property"},'"uuid"'),t("span",{class:"token operator"},":"),t("span",{class:"token string"},'"9876543211234"'),t("span",{class:"token punctuation"},",")]),e(`
`),t("span",{class:"line"},[e("    "),t("span",{class:"token property"},'"device_id"'),t("span",{class:"token operator"},":"),t("span",{class:"token string"},'"0f365b39-c33d-39be-bdfc-74aaf5534470"'),t("span",{class:"token punctuation"},",")]),e(`
`),t("span",{class:"line"},[e("    "),t("span",{class:"token property"},'"push_type"'),t("span",{class:"token operator"},":"),t("span",{class:"token string"},'"fcm"'),t("span",{class:"token punctuation"},",")]),e(`
`),t("span",{class:"line"},[e("    "),t("span",{class:"token property"},'"push_token"'),t("span",{class:"token operator"},":"),t("span",{class:"token string"},'"APA91bEZ3fjwrKV2mxAFvZMC960zKBWBVffLErwZgFzsFnzzsxgi5lSQlq3zvzObZBe4OnbwkTZfMqV7_a6fF0AJNgUjt5Scpo2BTaHyLVlK54QmwIQBahUwJprKjj0YvF_rh8l7CTvl6TRxqlqO_NIwaoAcI0MssA"'),t("span",{class:"token punctuation"},",")]),e(`
`),t("span",{class:"line"},[e("    "),t("span",{class:"token property"},'"created_at"'),t("span",{class:"token operator"},":"),t("span",{class:"token string"},'"2014-07-29T06:24:12Z"'),t("span",{class:"token punctuation"},",")]),e(`
`),t("span",{class:"line"},[e("    "),t("span",{class:"token property"},'"updated_at"'),t("span",{class:"token operator"},":"),t("span",{class:"token string"},'"2014-07-29T06:24:12Z"')]),e(`
`),t("span",{class:"line"},[e("    "),t("span",{class:"token punctuation"},"}")]),e(`
`),t("span",{class:"line"},[t("span",{class:"token punctuation"},"]")]),e(`
`),t("span",{class:"line"})])]),t("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[t("div",{class:"line-number"}),t("div",{class:"line-number"}),t("div",{class:"line-number"}),t("div",{class:"line-number"}),t("div",{class:"line-number"}),t("div",{class:"line-number"}),t("div",{class:"line-number"}),t("div",{class:"line-number"}),t("div",{class:"line-number"}),t("div",{class:"line-number"}),t("div",{class:"line-number"}),t("div",{class:"line-number"})])],-1)])),tab1:s(({value:l,isActive:a})=>n[31]||(n[31]=[t("table",null,[t("thead",null,[t("tr",null,[t("th",{style:{"text-align":"left"}},"이름"),t("th",{style:{"text-align":"left"}},"타입"),t("th",{style:{"text-align":"left"}},"설명")])]),t("tbody",null,[t("tr",null,[t("td",{style:{"text-align":"left"}},[t("code",null,"uuid")]),t("td",{style:{"text-align":"left"}},"String"),t("td",{style:{"text-align":"left"}},"사용자 고유 ID, 1~((2^63)-1) 범위의 정수만 사용 가능")]),t("tr",null,[t("td",{style:{"text-align":"left"}},[t("code",null,"device_id")]),t("td",{style:{"text-align":"left"}},"String"),t("td",{style:{"text-align":"left"}},"동일 사용자의 기기(Device)를 구분하는 ID")]),t("tr",null,[t("td",{style:{"text-align":"left"}},[t("code",null,"push_type")]),t("td",{style:{"text-align":"left"}},"String"),t("td",{style:{"text-align":"left"}},"푸시 서버 타입, apns 혹은 fcm")]),t("tr",null,[t("td",{style:{"text-align":"left"}},[t("code",null,"push_token")]),t("td",{style:{"text-align":"left"}},"String"),t("td",{style:{"text-align":"left"}},"APNs(64자), FCM으로부터 발급 받은 푸시 토큰")]),t("tr",null,[t("td",{style:{"text-align":"left"}},[t("code",null,"created_at")]),t("td",{style:{"text-align":"left"}},"Datetime"),t("td",{style:{"text-align":"left"}},"푸시 토큰을 처음 등록한 시각")]),t("tr",null,[t("td",{style:{"text-align":"left"}},[t("code",null,"updated_at")]),t("td",{style:{"text-align":"left"}},"Datetime"),t("td",{style:{"text-align":"left"}},"푸시 토큰을 업데이트한 시각")])])],-1),t("blockquote",null,[t("ul",null,[t("li",null,[e("user_id: Deprecated, 사용자 고유 ID(String), "),t("code",null,"uuid"),e("를 사용하도록 변경")])])],-1)])),_:1}),n[53]||(n[53]=p('<hr><h2 id="v2-push-deregister" tabindex="-1"><a class="header-anchor" href="#v2-push-deregister"><span><code>/v2/push/deregister</code></span></a></h2><blockquote><p>푸시 토큰 삭제하기</p></blockquote><div class="hint-container info"><p class="hint-container-title">기본정보</p></div><h3 id="요청-2" tabindex="-1"><a class="header-anchor" href="#요청-2"><span>요청</span></a></h3>',5)),i(r,{data:[{id:"curl"},{id:"설명"}],active:0},{title0:s(({value:l,isActive:a})=>n[32]||(n[32]=[e("curl")])),title1:s(({value:l,isActive:a})=>n[33]||(n[33]=[e("설명")])),tab0:s(({value:l,isActive:a})=>n[34]||(n[34]=[t("p",null,null,-1)])),tab1:s(({value:l,isActive:a})=>n[35]||(n[35]=[t("p",null,null,-1)])),_:1}),n[54]||(n[54]=t("h3",{id:"응답-2",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#응답-2"},[t("span",null,"응답")])],-1)),i(r,{data:[{id:"json"},{id:"설명"}],active:0},{title0:s(({value:l,isActive:a})=>n[36]||(n[36]=[e("json")])),title1:s(({value:l,isActive:a})=>n[37]||(n[37]=[e("설명")])),tab0:s(({value:l,isActive:a})=>n[38]||(n[38]=[t("p",null,null,-1)])),tab1:s(({value:l,isActive:a})=>n[39]||(n[39]=[t("p",null,null,-1)])),_:1}),n[55]||(n[55]=p(`<hr><h2 id="v2-push-send" tabindex="-1"><a class="header-anchor" href="#v2-push-send"><span><code>/v2/push/send</code></span></a></h2><blockquote><p>푸시 알림 보내기</p></blockquote><div class="hint-container info"><p class="hint-container-title">기본정보</p></div><h3 id="apns-전송-가능-용량" tabindex="-1"><a class="header-anchor" href="#apns-전송-가능-용량"><span>APNs 전송 가능 용량</span></a></h3><p>APNs는 푸시 알림 한 건당 4KB 이하, iOS 7 이하인 경우 256bytes 이하여야 전송 가능합니다. 전송 가능 용량 제한은 수신 데이터 기준이며 <code>topic</code>, <code>push_alert</code>, <code>return_url</code>, <code>push_token</code>를 제외한 파라미터에 적용됩니다. VoIP(Voice over Internet Protocol) 알림의 경우, 최대 5KB까지 지원합니다. 전송하려는 데이터의 용량이 4KB 이상이고 <code>message</code>가 <code>String</code> 타입인 경우, <code>message</code> 값의 뒷부분을 자르고 &quot;..&quot;를 붙여 전송합니다.</p><h3 id="apns-앱-번들의-메시지-세트-활용-방법" tabindex="-1"><a class="header-anchor" href="#apns-앱-번들의-메시지-세트-활용-방법"><span>APNs 앱 번들의 메시지 세트 활용 방법</span></a></h3><p>메시지 경량화 및 사용자 맞춤형 콘텐츠 활용을 위해 특정 푸시 알림 메시지 세트(Set)를 앱 번들(App Bundle)에 저장하고, 푸시 알림 보내기 요청 시 사용할 메시지 세트와 대입할 값을 전달하는 방식도 지원합니다.(참고: <a href="https://developer.apple.com/library/content/documentation/NetworkingInternet/Conceptual/RemoteNotificationsPG/CreatingtheNotificationPayload.html" target="_blank" rel="noopener noreferrer">Creating the Remote Notification Payload</a>)</p><p>예를 들면 아래와 같은 메시지 세트를 앱 번들에 저장해 사용할 수 있습니다.</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">&quot;COMMENT_ALERT_FORMAT&quot; = &quot;%@님 외 %@명이 댓글을 달았습니다.&quot;;</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>해당 메시지 세트를 사용하려면 푸시 알림 보내기 요청 시 다음과 같이 <code>message</code> 하위에 메시지 포맷에 정의된 키는 <code>loc-key</code>, 대입할 값은 <code>loc-args</code>에 각각 전달합니다.</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code class="language-json"><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;message&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">&quot;loc-key&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;COMMENT_ALERT_FORMAT&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;loc-args&quot;</span> <span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;홍길동&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">]</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>실제 푸시 알림은 다음과 같이 전달됩니다.</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">홍길동님 외 2명이 댓글을 달았습니다.</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="요청-3" tabindex="-1"><a class="header-anchor" href="#요청-3"><span>요청</span></a></h3>`,15)),i(r,{data:[{id:"curl"},{id:"설명"}],active:0},{title0:s(({value:l,isActive:a})=>n[40]||(n[40]=[e("curl")])),title1:s(({value:l,isActive:a})=>n[41]||(n[41]=[e("설명")])),tab0:s(({value:l,isActive:a})=>n[42]||(n[42]=[t("p",null,null,-1)])),tab1:s(({value:l,isActive:a})=>n[43]||(n[43]=[t("p",null,null,-1)])),_:1}),n[56]||(n[56]=t("h3",{id:"응답-3",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#응답-3"},[t("span",null,"응답")])],-1)),i(r,{data:[{id:"json"},{id:"설명"}],active:0},{title0:s(({value:l,isActive:a})=>n[44]||(n[44]=[e("json")])),title1:s(({value:l,isActive:a})=>n[45]||(n[45]=[e("설명")])),tab0:s(({value:l,isActive:a})=>n[46]||(n[46]=[t("p",null,null,-1)])),tab1:s(({value:l,isActive:a})=>n[47]||(n[47]=[t("p",null,null,-1)])),_:1}),i(g)])}const j=v(y,[["render",I]]),K=JSON.parse('{"path":"/explore/api/kakao/push.html","title":"푸시알람","lang":"ko-KR","frontmatter":{"lang":"ko-KR","title":"푸시알람","description":"Kakao > 푸시알람","icon":"fas fa-bell","category":["API","Kakao","푸시알람"],"tag":["kakao","api","references","developer"],"head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"푸시알람\\",\\"image\\":[\\"\\"],\\"dateModified\\":null,\\"author\\":[]}"],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/explore/api/kakao/push.html"}],["meta",{"property":"og:site_name","content":"chanhi2000"}],["meta",{"property":"og:title","content":"푸시알람"}],["meta",{"property":"og:description","content":"Kakao > 푸시알람"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"ko-KR"}],["meta",{"property":"article:tag","content":"developer"}],["meta",{"property":"article:tag","content":"references"}],["meta",{"property":"article:tag","content":"api"}],["meta",{"property":"article:tag","content":"kakao"}]]},"git":{},"readingTime":{"minutes":1.53,"words":458},"filePathRelative":"explore/api/kakao/push.md"}');export{j as comp,K as data};
