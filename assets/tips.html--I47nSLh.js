import{_ as i}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as l,d as s,at as d,b as a,t as h,w as n,r as p,o as u,e as o}from"./app-6nZ4Bu4J.js";const m={},g={id:"frontmatter-title-관련",tabindex:"-1"},f={class:"header-anchor",href:"#frontmatter-title-관련"},k={class:"table-of-contents"};function v(r,e){const t=p("router-link"),c=p("TagLinks");return u(),l("div",null,[s("h1",g,[s("a",f,[s("span",null,h(r.$frontmatter.title)+" 관련",1)])]),s("nav",k,[s("ul",null,[s("li",null,[a(t,{to:"#process-forking"},{default:n(()=>e[0]||(e[0]=[o("Process: forking")])),_:1}),s("ul",null,[s("li",null,[a(t,{to:"#what"},{default:n(()=>e[1]||(e[1]=[o("What?")])),_:1})]),s("li",null,[a(t,{to:"#address-space"},{default:n(()=>e[2]||(e[2]=[o("Address Space")])),_:1})]),s("li",null,[a(t,{to:"#wait"},{default:n(()=>e[3]||(e[3]=[o("Wait")])),_:1})])])]),s("li",null,[a(t,{to:"#process-execv"},{default:n(()=>e[4]||(e[4]=[o("Process: execv")])),_:1}),s("ul",null,[s("li",null,[a(t,{to:"#what-1"},{default:n(()=>e[5]||(e[5]=[o("What?")])),_:1})])])])])]),e[6]||(e[6]=d(`<hr><h2 id="process-forking" tabindex="-1"><a class="header-anchor" href="#process-forking"><span>Process: forking</span></a></h2><h3 id="what" tabindex="-1"><a class="header-anchor" href="#what"><span>What?</span></a></h3><p>Fork is a function that is used to create a new proces.</p><div class="language-c line-numbers-mode" data-highlighter="prismjs" data-ext="c"><pre><code class="language-c"><span class="line"><span class="token class-name">pid_t</span> child_pid<span class="token punctuation">;</span></span>
<span class="line">child_pid <span class="token operator">=</span> <span class="token function">fork</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">if</span> <span class="token punctuation">(</span>child_pid <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// Child process starts here</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token comment">// Parent process resumes here</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>fork()</code> returns the process id of the child. In the parent process, because <code>child_pid != 0</code>, it will resume after the <code>if</code> statement&#39;s code block. For the child process, <code>fork()</code> returns <code>0</code> and hence <code>child_pid == 0</code>.</p><h3 id="address-space" tabindex="-1"><a class="header-anchor" href="#address-space"><span>Address Space</span></a></h3><p>Because different processes have different address spaces, the parent and child processes also have different address spaces. However the child process will have the exact same copy of the address space of the parent process!</p><h3 id="wait" tabindex="-1"><a class="header-anchor" href="#wait"><span>Wait</span></a></h3><p>To wait for the child process to terminate, the parent process can call <code>wait()</code> or <code>waitpid()</code>. This will allow the parent to get the status of the child process.</p><hr><h2 id="process-execv" tabindex="-1"><a class="header-anchor" href="#process-execv"><span>Process: execv</span></a></h2><h3 id="what-1" tabindex="-1"><a class="header-anchor" href="#what-1"><span>What?</span></a></h3><p>Continuing the use of <code>fork()</code> in the previous post, we use <code>execv()</code> to replace the child process&#39; program with another program image. This is because <code>fork()</code> only creates a child process that has the same address space and prgram image as the parent process.</p><p>Take note that the child process&#39; stack is replaced with the arguments given to it via <code>execv()</code>. The rest of the address space is also replaced.</p><div class="language-c line-numbers-mode" data-highlighter="prismjs" data-ext="c"><pre><code class="language-c"><span class="line"><span class="token keyword">char</span> <span class="token operator">*</span>args<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;ls&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;-l&quot;</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token function">execv</span><span class="token punctuation">(</span><span class="token string">&quot;/bin/ls&quot;</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>There are few parts to the function</p><ul><li>First argument (<em>e.g.</em> <code>/bin/ls</code>): This is the filepath of the program that you want to run. It can also be a program that you wrote</li><li>Second argument: <code>args</code> is a char array where the first element is the pogram name (<em>e.g.</em> <code>ls</code>). The subsequent elements are arguments to the program. A <code>NULL</code> (null pointer) is used to indicate the end of elements in the array.</li></ul><hr>`,19)),a(c)])}const y=i(m,[["render",v]]),x=JSON.parse('{"path":"/programming/c/tips.html","title":"Tips","lang":"ko-KR","frontmatter":{"lang":"ko-KR","title":"Tips","description":"C > Tips","icon":"fas fa-lightbulb","category":["C","Tips"],"tag":["c","cpp","c++","process","forking"],"head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Tips\\",\\"image\\":[\\"\\"],\\"dateModified\\":null,\\"author\\":[]}"],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/programming/c/tips.html"}],["meta",{"property":"og:site_name","content":"chanhi2000"}],["meta",{"property":"og:title","content":"Tips"}],["meta",{"property":"og:description","content":"C > Tips"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"ko-KR"}],["meta",{"property":"article:tag","content":"forking"}],["meta",{"property":"article:tag","content":"process"}],["meta",{"property":"article:tag","content":"c++"}],["meta",{"property":"article:tag","content":"cpp"}],["meta",{"property":"article:tag","content":"c"}]]},"git":{},"readingTime":{"minutes":1.06,"words":319},"filePathRelative":"programming/c/tips.md"}');export{y as comp,x as data};
